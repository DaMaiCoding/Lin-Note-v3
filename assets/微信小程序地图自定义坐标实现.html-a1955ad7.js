import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as c,c as o,e as d}from"./app-4bc45b34.js";const a="/DaMaiCoding-Note/assets/ca932565a59987bd09a0f6c87fa119b-1709624510485-3-5e1836ae.jpg",r={},i=d('<h1 id="微信小程序地图自定义坐标实现" tabindex="-1"><a class="header-anchor" href="#微信小程序地图自定义坐标实现" aria-hidden="true">#</a> 微信小程序地图自定义坐标实现</h1><h2 id="实现目标" tabindex="-1"><a class="header-anchor" href="#实现目标" aria-hidden="true">#</a> 实现目标</h2><img src="'+a+'" alt="ca932565a59987bd09a0f6c87fa119b" style="zoom:33%;"><ol><li>地图中坐标点绘制，并可点击切换样式</li></ol><h2 id="思路与问题、及解决方案" tabindex="-1"><a class="header-anchor" href="#思路与问题、及解决方案" aria-hidden="true">#</a> 思路与问题、及解决方案</h2><h3 id="cover-view-批量显示在-map-中" tabindex="-1"><a class="header-anchor" href="#cover-view-批量显示在-map-中" aria-hidden="true">#</a> cover-view 批量显示在 map 中</h3><p>一开始直接在 <code>map</code> 中定义 <code>cover-view</code> 并将 在 <code>v-for</code> 写在 <code>cover-view</code>上</p><p>结果 <code>marker</code> 都不显示了，查看资料说循环渲染，需要套在 <code>block</code> 中</p><p>套了，结果不负众望，显示出来了</p><h3 id="marker-无点击事件" tabindex="-1"><a class="header-anchor" href="#marker-无点击事件" aria-hidden="true">#</a> marker 无点击事件</h3><p>采用 <code>&lt;cover-view slot=&quot;callout&quot;&gt;</code> 绘制，自定义 <code>marker</code>，然而我们需要点击<code>marker</code>的图标</p><p>会出现显示对应电站的信息的弹窗</p><p>一开始的方案是，给每个 <code>marker</code> 都使用<code>bindtap</code>，绑定一个点击事件</p><p>从而获取对应的坐标点信息，判断要修改哪个<code>marker</code>的样式</p><p>但是微信小程序中的采用 <code>cover-view</code> ，自定义的 <code>marker</code> 无法通过，<code>bindtap</code>绑定点击事件</p><p>对此，我们放弃这种方式，采用 <code>map</code> 自带的 <code>bindcalloutap</code> 事件，该事件能获取所点击 <code>marker</code> 的</p><p><code>markerId</code>，我们再根据<code>markerId</code>，以及动态 <code>class</code> 进行样式切换</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>微信小程序的自定义 <code>marker</code>，一般使用 <code>cover-view</code> 进行自定义</p><p>注意，<code>cover-view</code> 循环渲染，得套在 <code>block</code> 中</p><p><code>&lt;cover-view&gt;</code> 无法通过 <code>bindtap</code> 绑定事件</p><p>但是可以通过 <code>map</code> 的 <code>bindcalloutap</code> 获取到 <code>markerId</code> 进行判断，点击位置</p>',22),t=[i];function p(h,n){return c(),o("div",null,t)}const _=e(r,[["render",p],["__file","微信小程序地图自定义坐标实现.html.vue"]]);export{_ as default};
