import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e}from"./app-bc035641.js";const t="/Lin-Note-v3/assets/image-20230616142357330-23392fad.png",p="/Lin-Note-v3/assets/image-20230616142621391-41769099.png",o={},c=e('<h1 id="element-ui-2-x-表单清空实现" tabindex="-1"><a class="header-anchor" href="#element-ui-2-x-表单清空实现" aria-hidden="true">#</a> element-ui 2.x 表单清空实现</h1><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h2><figure><img src="'+t+`" alt="image-20230616142357330" tabindex="0" loading="lazy"><figcaption>image-20230616142357330</figcaption></figure><p>先点击编辑，再点击新增的时候需要 清空表单，就是把 form 内容直接初始化</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 初始化 form</span>
<span class="token function">initForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   vc<span class="token punctuation">.</span>component<span class="token punctuation">.</span>chargeTypeManger<span class="token punctuation">.</span>form <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">communityId</span><span class="token operator">:</span> vc<span class="token punctuation">.</span><span class="token function">getCurrentCommunity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>communityId<span class="token punctuation">,</span> <span class="token comment">//小区ID</span>
      <span class="token literal-property property">chargingName</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//型号</span>
      <span class="token literal-property property">suitableModel</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//适合车型</span>
      <span class="token literal-property property">pileType</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//电桩类型</span>
      <span class="token literal-property property">outputPower</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//额定功率</span>
      <span class="token literal-property property">outputVoltageRange</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//输出电压范围</span>
      <span class="token literal-property property">outputCurrentRange</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//输出电流范围</span>
      <span class="token literal-property property">interfaceStandard</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//接口标准</span>
      <span class="token literal-property property">isEnable</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token comment">//是否启用（1：启用 2：禁用）</span>
      <span class="token literal-property property">brandName</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 品牌名称</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>出问题了呀，表单是清空了，但是那个校验提示也出来了</p><figure><img src="`+p+`" alt="image-20230616142621391" tabindex="0" loading="lazy"><figcaption>image-20230616142621391</figcaption></figure><h2 id="解决办法" tabindex="-1"><a class="header-anchor" href="#解决办法" aria-hidden="true">#</a> 解决办法</h2><p>解决办法就是，在清空表单的同时也执行，form 表单自带的清空表单函数 <code>$that.$refs.ruleForm.resetFields();</code>[$that 就是 this]</p><p>清空要在前面，清除函数在后面才有效</p><p>实现如下，在每次关闭弹窗的时候就执行清空即可</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 关闭弹窗 (解决 清空后还有校验提示的问题)</span>
 <span class="token function">closeChargeTypeInfoDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vc<span class="token punctuation">.</span>component<span class="token punctuation">.</span><span class="token function">initForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    $that<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>component<span class="token punctuation">.</span>chargeTypeManger<span class="token punctuation">.</span>dialogVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),l=[c];function i(r,u){return s(),a("div",null,l)}const m=n(o,[["render",i],["__file","element-ui 2.x 表单清空实现.html.vue"]]);export{m as default};
